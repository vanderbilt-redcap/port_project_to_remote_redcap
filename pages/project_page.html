<!-- Add icons for alerts as suggested by bootstrap https://getbootstrap.com/docs/5.0/components/alerts/ -->
<!-- Necessary as bootstrap's alert-success and alert-danger colors are indescernbile with Deuteranopia (red/green colorblind) -->
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
	<symbol id="check-circle-fill" fill="currentColor" viewBox="0 0 16 16">
		<path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
	</symbol>
	<symbol id="info-fill" fill="currentColor" viewBox="0 0 16 16">
		<path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"/>
	</symbol>
	<symbol id="exclamation-triangle-fill" fill="currentColor" viewBox="0 0 16 16">
		<path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
	</symbol>
</svg>

<!-- <form action="<?=$module->framework->getUrl("ajax.php") ?>" method="POST" id="crispi_form"> -->
<form id="crispi_form">
	<div class="form-group">
	<label for="remote_index" class="form-label">Target Server API URI</label>
	<select name="remote_index" class="form-select" aria-label="Select remote server" id="remote_select"></select>
	</div>

	<!--
	<label for="new_status">Change project status after transfer</label>
	<select name="new_status" id="new_status" class="form-select status-control" aria-label"New Status">
	<option value="0" selected></option>
	<option value="1">Completed</option>
	<option value="2">Analysis/cleanup</option>
	</select>
	-->

	<!-- <div class="form-group" id="task_toggles"> -->
	<label for="task_toggles">Tasks to run</label>
	</br>
	<!-- <div class="btn-group" role="group" aria-label="Task checklist" id="task_toggles"> -->

		<!-- <ul class="list-group"> -->
		<!-- <div id="task_toggle_template_div" style="display: none;"> -->
		<!-- <li class="list-group-item"> -->
		<!-- <input name="task_toggle_template" class="form-check-input" type="checkbox" value="1" id="task_toggle_template" checked> -->
				 <!-- <label class="form-check-label" for="task_toggle_template"></label> -->
		<!-- </li> -->
		<!-- </div> -->
		<!-- </ul> -->

		<!-- checkbox button implementation -->
		<!-- <div id="task_toggle_template_div" style="display: none;"> -->
					<!-- <input name="task_toggle_template" class="form-check-input" type="checkbox" value="1" id="task_toggle_template" checked> -->
					<!-- <label class="form-check-label" for="task_toggle_template"></label> -->
				<!-- <input name="template-task_toggle" class="btn-check" type="checkbox" value="1" autocomplete="off" checked> -->
					<!-- <label class="btn btn-outline-secondary" for="task_toggle_template"></label> -->
					<!-- </div> -->

		<!-- </div> -->


	<!-- Accordion for options associated with each task -->
	<!-- https://stackoverflow.com/a/71483349/7418735 -->
	<div class="accordion accordion--custom" id="task_toggles">

		<div class="accordion-item" id="task_toggle_template_div" style="display: none;">
			<div class="accordion-header" id="task_toggle_template_heading">
				<input type="checkbox" name="template-task_toggle" class="form-check-input" id="" value="1" checked>
				<label for="task_toggle_template" class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#template-task_toggle_collapse" aria-expanded="true" aria-controls="template-task_toggle_collapse">Template</label>
			</div>
		</div>
		<div id="template-task_toggle_options">
			<div id="template-task_toggle_collapse" class="accordion-collapse collapse show ml-4" aria-labelledby="task_toggle_template_heading" data-bs-parent="#task_toggle_template_div" style="display: none;" >
				<div class="form-group form-check pl-4">
					<input type="checkbox" class="form-check-input file_checkbox" id="template-task_toggle_sub1" value="1">
					<label class="form-check-label" for="">sub 1</label>
				</div>
			</div>
			<!-- <div class="form-group form-check pl-4"> -->
			<!-- <input type="checkbox" class="form-check-input file_checkbox program6" id="template-task_toggle_sub2" value="program_data/6/scripts/MEER_munger.py" checked=""> -->
			<!-- <label class="form-check-label" for="scriptundefined">sub 2</label> -->
			<!-- </div> -->
		</div>

	</div>

	<!-- <div class="form-group" id="subtask_options"> -->

		<!-- <div class="form-check"> -->
		<!-- <input name="retain_title" class="form-check-input" type="checkbox" value="1" id="retain_title" checked> -->
		<!-- <label class="form-check-label" for="retain_title"> -->
		<!-- Retain remote project title -->
		<!-- </label> -->
		<!-- </div> -->

		<!-- <div class="form-check"> -->
		<!-- <input name="flush_records" class="form-check-input" type="checkbox" value="1" id="flush_records"> -->
		<!-- <label class="form-check-label" for="flush_records"> -->
		<!-- Delete remote <b>records</b> before importing. -->
				<!-- TODO: tooltip for this -->
				<!-- Requires target project to have the same record_id variable name (usually the case). -->
		<!-- </label> -->
		<!-- </div> -->

		<!-- <div class="form-check"> -->
		<!-- <input name="delete_user_roles" class="form-check-input" type="checkbox" value="1" id="delete_user_roles"> -->
		<!-- <label class="form-check-label" for="delete_user_roles"> -->
		<!-- Delete remote <b>user roles</b> before importing -->
		<!-- </label> -->
		<!-- </div> -->

		<!-- </div> -->


	<!-- HACK: hardcode record range start and end -->
	<!-- TODO: populate start and end as dropdown of actual record ids, visually show range -->
	<div id="record_range_div" style="display: none;">
		<p id="record_range_on_remote">
			Fetching remote project record information...
		</p>

		<label class="form-check-label" for="record_range_start">
			Record Range Start
		</label>
		<select id="record_range_start" name="record_range_start"></select>

		<label class="form-check-label" for="record_range_end">
			Record Range End
		</label>
		<select id="record_range_end" name="record_range_end"></select>
	</br>
	</div>

	<button type="submit" class="btn btn-primary">Transfer project</button>

</form>

</br>

<div id="status-updates" style="display: none;">
<div class ="progress">
	<div id="port-project-progress-bar" class="progress-bar progress-bar-animated progress-bar-striped" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
	</div>

	<div id="status-update-alert-template" class="status-update alert" role="alert" style="display: none;">
	</div>

</div>
